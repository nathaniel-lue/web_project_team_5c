{% extends 'navbar_base.html' %}
{% load static %}

{% block styles_import %}
  <link rel="stylesheet" type="text/css" href="{% static 'music_review/style.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'music_review/explore.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'music_review/music.css' %}" />

{% endblock %}

{% block body %}
<div class = "albums">
    <div class = "topRow">
        {% for album, reviews, average_rating in albums_with_reviews %}
        <div class = "albumBox">
          <div class = "albumOneImage">
            <img src="{{ MEDIA_URL }}{{ album.album_art }}" id="cover_art"/>
          </div>

          <div class = "albumBlockInfo">
            <p>{{ album.artist }}- {{ album.name }}</p>
            <p>Average Review- {{ average_rating }}</p>
            <p>Reviews:</p>
            {% for review in reviews %}
                <ul>
                    <li><a href="{% url 'review_site:forum' review_id=review.id %}">{{ review.title }}  ({{ review.rating }})- {{ review.user.username }} </a></li>
                </ul>
            {% endfor %}
          </div>
        </div>
        {% endfor %}

        {% for album in albums_no_reviews %}
        <div class = "albumBox">
            <div class = "albumOneImage">
              <img src="{{ MEDIA_URL }}{{ album.album_art }}" id="cover_art"/>
            </div>
  
            <div class = "albumBlockInfo">
              <p>{{ album.artist }}</p>
              <p>{{ album.name }}</p>
              <p>No reviews yet...</p>
            </div>
          </div>
        {% endfor %}
    </div>
  </div>
{% endblock %}